# AES-128文件加密器 使用说明

## 简介
AES-128文件加密器是一款使用AES-128算法对文件进行加密和解密的工具。它具有友好的图形用户界面，支持加密任意类型的文件，解密已加密的文件，并能直接查看加密文件的内容。

## 功能特性
1. **文件加密**：使用AES-128算法对文件进行高强度加密
2. **文件解密**：将加密的文件恢复为原始文件
3. **内容查看**：无需解密文件即可查看加密文件的内容（通过临时解密到系统Temp文件夹）
4. **文件名混淆**：加密后的文件使用UUID作为文件名，原始文件名被加密存储
5. **集中密码管理**：启动时设置主密码，用于所有操作
6. **安全存储**：密码哈希和文件元数据均加密存储

## 安装要求
- Python 3.6 或更高版本
- pycryptodome 库
- tkinter 库（通常随Python一起安装）
- tkinterdnd2 库（可选，用于拖拽功能）

## 快速开始
1. 安装依赖库：
   ```bash
   pip install pycryptodome
   ```

2. 运行程序：
   - 开发模式（会显示控制台窗口）：
     ```bash
     python AESFileEncryptor/src/main.py
     ```
   - GUI模式（不显示控制台窗口）：
     ```bash
     pythonw AESFileEncryptor/src/main.py
     ```
   - 或者将程序打包为.exe可执行文件运行

## 使用方法

### 1. 首次使用设置密码
1. 运行程序后，首次使用会弹出"设置主密码"窗口
2. 输入您想要的密码（至少6位）
3. 再次输入确认密码
4. 点击"确定"按钮完成设置

### 2. 后续使用验证密码
1. 以后每次运行程序时会弹出"验证主密码"窗口
2. 输入之前设置的主密码
3. 点击"确定"按钮进入主程序

### 3. 添加并加密文件
1. 在主界面点击"添加文件"按钮
2. 从弹出的文件选择对话框中选择要加密的文件
3. 系统会自动使用主密码加密文件到当前选择的目录（默认为Data文件夹）
4. 加密后的文件将被存储在当前选择的目录中，使用混淆的文件名
5. 文件列表中会显示原始文件名和加密后的文件信息

或者您可以直接将文件拖拽到程序主窗口中进行快速加密（需要先安装tkinterdnd2库）。

### 4. 解密文件
1. 在文件列表中选择要解密的加密文件
2. 点击"解密文件"按钮
3. 在弹出的保存对话框中选择解密后文件的保存位置和文件名
4. 系统会自动解密并保存文件

### 5. 查看加密文件内容
1. 在文件列表中选择要查看的加密文件
2. 点击"查看内容"按钮
3. 系统会将加密文件临时解密到系统Temp文件夹，使用混淆的文件名
4. 会自动打开系统默认程序显示文件内容
5. 临时文件将在10秒后自动删除

### 6. 选择加密目录
- 点击"选择加密目录"按钮可以更改加密文件的保存位置
- 默认情况下，加密文件保存在Data文件夹中
- 选择新目录后，新加密的文件将保存到该目录

### 7. 刷新文件列表
- 点击"刷新列表"按钮可以重新加载当前选择目录中的所有加密文件

## 界面说明
- **加密文件列表**：显示Data文件夹中的所有加密文件
  - 原文件名：加密前的原始文件名
  - 加密文件名：加密后存储在Data文件夹中的混淆文件名
  - 大小：加密文件的大小
  - 修改时间：加密文件的最后修改时间

## 安全提示
- 请务必记住您的主密码，忘记密码将无法解密文件
- 主密码用于所有加密、解密和查看操作
- 加密文件名被混淆，原始文件名被加密存储，提高安全性
- 临时解密文件会在指定时间后自动删除，防止信息泄露
- 当删除密码文件时，Data文件夹会自动清空，保护数据安全

## 技术说明
本软件使用以下技术:
- 加密算法：AES-128（使用CBC模式）
- 密钥生成：SHA-256哈希算法
- 开发语言：Python
- 界面库：tkinter

## 常见问题

Q: 如果忘记主密码怎么办？
A: 如果忘记主密码，将无法解密任何文件。请务必安全保存您的密码。

Q: 加密后的文件可以分享给别人吗？
A: 可以，但接收方需要有相同的软件和正确的主密码才能解密。

Q: 软件支持哪些类型的文件？
A: 软件支持所有类型的文件，包括文本文件、图片、视频、音频等。

Q: 如何备份加密文件？
A: 可以直接备份Data文件夹中的所有文件，解密时需要主密码和相同的软件。

## 版本信息
- 版本：V2.3.0-beta5
- 发布日期：2025年

## 更新日志

### V2.3.0-beta5
- 新增功能：在加密文件列表中支持右键删除文件
- 修复：修复了V2.3.0-beta4中因添加右键菜单功能时引入的语法错误

### V2.3.0-beta4
- 集成了 V2.3.0-beta3 的命令行功能、V2.3.0-beta2 的密码安全修复和 V2.3.0-beta1 的其他全部功能

### V2.3.0-beta3
1. **新增命令行支持**：现在支持通过命令行进行加密、解密和查看操作
   - `-dir <密码>`: 列出当前加密的文件
   - `-jia <密码> <文件路径>`: 加密指定文件
   - `-jie <密码> <加密文件名> <解密到的位置>`: 解密指定文件
2. **功能增强**：GUI和命令行模式可根据参数自动切换

### v2.3Beta2
- 紧急修复：修复了更改密码会导致加密文件丢失的严重Bug
- 密码功能增强：密码更改现在会保持所有已加密文件的完整性

### v2.3.0 beta1
1. **自动创建Data文件夹**：程序启动时会自动检查并创建Data文件夹，无需手动创建
2. **解密后自动删除加密文件**：解密操作完成后，程序会自动删除对应的加密文件和元数据文件
3. **修改密码功能**：用户可以在设置中修改主密码，需要先验证旧密码才能修改
4. **Data目录位置调整**：加密文件现在存储在main.py所在目录下的Data文件夹中，而非项目根目录

## 功能特性
1. **文件加密**：使用AES-128算法对文件进行高强度加密
2. **文件解密**：将加密的文件恢复为原始文件
3. **内容查看**：无需解密文件即可查看加密文件的内容（通过临时解密到系统Temp文件夹）
4. **文件名混淆**：加密后的文件使用UUID作为文件名，原始文件名被加密存储
5. **集中密码管理**：启动时设置主密码，用于所有操作
6. **安全存储**：密码哈希和文件元数据均加密存储
7. **自动创建Data文件夹**：程序启动时会自动创建Data文件夹
8. **解密后自动删除加密文件**：解密完成后自动清理加密文件
9. **修改密码功能**：用户可以安全地修改主密码